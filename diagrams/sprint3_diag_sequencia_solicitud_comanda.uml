@startuml
' ***** Declaració d'actors i objectes. 
' ***** Els objectes poden ser comunicació (boundary), control o entity
actor Client
actor ProveidorExtern
actor Botiguer
boundary ClasseInterf
control ClasseControl
entity PerfBotiguer
entity ProducteTriat
entity Cistella

loop client vol afegir productes
  loop producte no existeix
    Client -> ClasseInterf : afegirProducte(p)
    ClasseInterf -> ClasseControl : afegirProducte(p)
    ClasseControl -> PerfBotiguer : comprovaDisponibilitat(p)
    PerfBotiguer -> ClasseControl : comprovaDisponibilitat(p)
    ClasseControl -> ClasseInterf : comprovaDisponibilitat(p)
    ClasseInterf -> Botiguer : comprovaDisponibilitat(p)
    alt producte existeix
      ClasseControl -> ProducteTriat : crearProducte(p)
      ClasseControl -> Cistella : afegirProducte(p)
    else producte no existeix
      ClasseInterf -> Client : mostrarError()
    end
  end
  
  ProveidorExtern -> ClasseInterf : afegirBannerPublicitat(banner)
  ClasseInterf -> Client : afegirBannerPublicitat(banner)
end
ClasseInterf -> Client : mostrarMissatgeComandaSolicitada()
@enduml